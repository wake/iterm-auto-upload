#!/bin/bash
# 測試 iTerm2 user-defined variable 是否可用
# fileDropCoprocess 設定：
#   /path/to/bin/test-uservar "\(user.is_claude)" \(jobName) "\(autoName)" \(tty) \(filenames)

LOG="/tmp/iterm-upload-test.log"

echo "[$(date '+%Y-%m-%d %H:%M:%S')] === TEST DROP ===" >> "$LOG"
echo "  user.is_claude = [$1]" >> "$LOG"
echo "  jobName        = [$2]" >> "$LOG"
echo "  autoName       = [$3]" >> "$LOG"
echo "  tty            = [$4]" >> "$LOG"
shift 4
echo "  files          = [$*]" >> "$LOG"

# 正常貼上路徑，不影響操作
printf '%s' "$*"
